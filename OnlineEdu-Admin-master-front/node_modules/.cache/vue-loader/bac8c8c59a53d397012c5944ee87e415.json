{"remainingRequest":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\t_order\\torder_list.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\t_order\\torder_list.vue","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBsaXN0IH0gZnJvbSAnQC9hcGkvb3JkZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RPcmRlckxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgICd2LWRldGFpbHMnOiAoKSA9PiBpbXBvcnQoJ0Avdmlld3MvdF9vcmRlci90b3JkZXJfZGV0YWlscycpCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUGFyYW1zOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgb3JkZXJObzogJycsCiAgICAgICAgbWVtYmVySWQ6IG51bGwsCiAgICAgICAgcGF5VHlwZTogbnVsbCwKICAgICAgICBiZWdpbkNyZWF0ZTogbnVsbCwKICAgICAgICBlbmRDcmVhdGU6IG51bGwKICAgICAgfSwKICAgICAgLy8g5rOo5YaM5pe26Ze06YCJ5oup5qGG6YCJ6aG5CiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSkKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/keS4ieS4quaciCcsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCkKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGJlZ2luVG9FbmRDcmVhdGU6ICcnLCAvLyDms6jlhozml7bpl7QgW2JlZ2luLCBlbmRdCiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0RGF0YTogW10sCiAgICAgIHRhYmxlRGF0YUxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDlkK/nlKjjgIHnpoHnlKgKICAgICAgZGV0YWlsRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRldGFpbERpYWxvZ1RpdGxlOiAnJwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldFNlYXJjaFBhcmFtcyhmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuc2VhcmNoUGFyYW1zLmN1cnJlbnQgPSAxCiAgICAgIHRoaXMuYmVnaW5Ub0VuZENyZWF0ZSA9ICcnCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgb3BlbkRldGFpbERpYWxvZyhjdXJEYXRhKSB7CiAgICAgIHRoaXMuZGV0YWlsRGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5kZXRhaWxEaWFsb2dUaXRsZSA9IGDorqLljZVbJHtjdXJEYXRhLm9yZGVyTm99XeS/oeaBr2AKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLiRyZWZzLkRldGFpbHNEaWFsb2cuc2V0RGF0YShjdXJEYXRhKQogICAgICB9LmJpbmQodGhpcyksIDEwMCkKICAgIH0sCiAgICAvLyDojrflj5bliJfooajkv6Hmga8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhTG9hZGluZyA9IHRydWUKICAgICAgLy8g5aSE55CG5rOo5YaM5pe26Ze06YCJ5oupCiAgICAgIGlmICh0aGlzLmJlZ2luVG9FbmRDcmVhdGUpIHsgLy8g6YCJ5oup5LqGCiAgICAgICAgdGhpcy5zZWFyY2hQYXJhbXMuYmVnaW5DcmVhdGUgPSB0aGlzLmJlZ2luVG9FbmRDcmVhdGVbMF0KICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcy5lbmRDcmVhdGUgPSB0aGlzLmJlZ2luVG9FbmRDcmVhdGVbMV0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcy5iZWdpbkNyZWF0ZSA9IG51bGwKICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcy5lbmRDcmVhdGUgPSBudWxsCiAgICAgIH0KICAgICAgbGlzdCh0aGlzLnNlYXJjaFBhcmFtcykudGhlbihyZXNwID0+IHsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsCiAgICAgICAgdGhpcy5saXN0RGF0YSA9IHJlc3AuZGF0YS5saXN0CiAgICAgICAgdGhpcy50YWJsZURhdGFMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["torder_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"torder_list.vue","sourceRoot":"src/views/t_order","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"search-box\">\n      <el-form ref=\"searchParamsForm\" :inline=\"true\" :model=\"searchParams\" size=\"small\">\n        <el-form-item label=\"用户ID:\" prop=\"memberId\">\n          <el-input v-model=\"searchParams.memberId\" placeholder=\"输入用户ID搜索\" style=\"width: 150px\" />\n        </el-form-item>\n        <el-form-item label=\"订单号:\" prop=\"orderNo\">\n          <el-input v-model=\"searchParams.orderNo\" placeholder=\"输入订单号搜索\" style=\"width: 150px\" />\n        </el-form-item>\n        <el-form-item label=\"支付状态:\" prop=\"payType\">\n          <el-select v-model=\"searchParams.payType\" style=\"width: 100px\">\n            <el-option label=\"未支付\" value=\"NONE\" />\n            <el-option label=\"微信支付\" value=\"WECHAT_PAY\" />\n            <el-option label=\"支付宝\" value=\"ALI_PAY\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"创建时间:\" prop=\"enable\">\n          <el-date-picker\n            v-model=\"beginToEndCreate\"\n            type=\"datetimerange\"\n            :picker-options=\"pickerOptions\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"getList\">查 询</el-button>\n          <el-button @click=\"resetSearchParams('searchParamsForm')\">重 置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div>\n      <el-table\n        ref=\"listTable\"\n        v-loading=\"tableDataLoading\"\n        :data=\"listData\"\n        tooltip-effect=\"dark\"\n        :header-cell-style=\"{fontWeight:'normal', color:'#666'}\"\n      >\n        <el-table-column type=\"index\" />\n        <el-table-column prop=\"orderNo\" label=\"订单号\" />\n        <el-table-column prop=\"totalFee\" label=\"订单金额\" />\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"200\" align=\"center\" />\n        <el-table-column prop=\"payType\" label=\"支付状态\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.payType==='WECHAT_PAY'\" type=\"success\" size=\"small\">微信支付</el-tag>\n            <el-tag v-else-if=\"scope.row.payType==='ALI_PAY'\" type=\"primary\" size=\"small\">支付宝</el-tag>\n            <el-tag v-else type=\"info\" size=\"small\">未支付</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"transactionNum\" label=\"流水号\">\n          <template slot-scope=\"scope\">{{ scope.row.transactionNum || '无' }}</template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"160\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"openDetailDialog(scope.row)\">订单详情</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        :page-sizes=\"[10, 20, 30, 40,50]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n        :page-size.sync=\"searchParams.pageSize\"\n        :current-page.sync=\"searchParams.current\"\n        @size-change=\"getList\"\n        @current-change=\"getList\"\n      />\n    </div>\n    <div>\n      <!-- 修改账户信息 -->\n      <el-dialog\n        :title.sync=\"detailDialogTitle\"\n        :visible.sync=\"detailDialogVisible\"\n        destroy-on-close\n      >\n        <v-details ref=\"DetailsDialog\" />\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { list } from '@/api/order'\n\nexport default {\n  name: 'TOrderList',\n  components: {\n    'v-details': () => import('@/views/t_order/torder_details')\n  },\n  data() {\n    return {\n      searchParams: {\n        current: 1,\n        pageSize: 10,\n        orderNo: '',\n        memberId: null,\n        payType: null,\n        beginCreate: null,\n        endCreate: null\n      },\n      // 注册时间选择框选项\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近三个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      beginToEndCreate: '', // 注册时间 [begin, end]\n      total: 0,\n      listData: [],\n      tableDataLoading: false,\n      // 启用、禁用\n      detailDialogVisible: false,\n      detailDialogTitle: ''\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    resetSearchParams(formName) {\n      this.$refs[formName].resetFields()\n      this.searchParams.current = 1\n      this.beginToEndCreate = ''\n      this.getList()\n    },\n    openDetailDialog(curData) {\n      this.detailDialogVisible = true\n      this.detailDialogTitle = `订单[${curData.orderNo}]信息`\n      setTimeout(function() {\n        this.$refs.DetailsDialog.setData(curData)\n      }.bind(this), 100)\n    },\n    // 获取列表信息\n    getList() {\n      this.tableDataLoading = true\n      // 处理注册时间选择\n      if (this.beginToEndCreate) { // 选择了\n        this.searchParams.beginCreate = this.beginToEndCreate[0]\n        this.searchParams.endCreate = this.beginToEndCreate[1]\n      } else {\n        this.searchParams.beginCreate = null\n        this.searchParams.endCreate = null\n      }\n      list(this.searchParams).then(resp => {\n        this.total = resp.data.total\n        this.listData = resp.data.list\n        this.tableDataLoading = false\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}