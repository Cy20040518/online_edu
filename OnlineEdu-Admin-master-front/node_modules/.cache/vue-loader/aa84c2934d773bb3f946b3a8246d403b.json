{"remainingRequest":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\uctr_member\\uctrmember_list.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\uctr_member\\uctrmember_list.vue","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgewogIGxpc3QsCiAgZW5hYmxlLAogIGRpc2FibGUsCiAgZGVsZXRlVXNlciwKICB1cGRhdGVQYXNzd29yZCwKICBjcmVhdGVVc2VyLAogIHVwZGF0ZVByb2ZpbGUKfSBmcm9tICdAL2FwaS9tZW1iZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VjdHJNZW1iZXJMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICAndi1hZGQtdXBkYXRlJzogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL3VjdHJfbWVtYmVyL3VjdHJtZW1iZXJfYWRkX3VwZGF0ZScpCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUGFyYW1zOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgbmlja25hbWU6ICcnLAogICAgICAgIG1vYmlsZTogJycsCiAgICAgICAgZW5hYmxlOiBudWxsLAogICAgICAgIGJlZ2luQ3JlYXRlOiBudWxsLAogICAgICAgIGVuZENyZWF0ZTogbnVsbAogICAgICB9LAogICAgICAvLyDms6jlhozml7bpl7TpgInmi6nmoYbpgInpobkKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNykKICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSkKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgYmVnaW5Ub0VuZENyZWF0ZTogJycsIC8vIOazqOWGjOaXtumXtCBbYmVnaW4sIGVuZF0KICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3REYXRhOiBbXSwKICAgICAgdGFibGVEYXRhTG9hZGluZzogZmFsc2UsCiAgICAgIGN1cnJlbnRPcGVyYXRpb25JbmRleDogMCwKICAgICAgLy8g5ZCv55So44CB56aB55SoCiAgICAgIGVuYWJsZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlbmFibGVEaWFsb2dUaXRsZTogJycsCiAgICAgIC8vIOaUueWvhgogICAgICB1cGRhdGVQYXNzd29yZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1cGRhdGVQYXNzd29yZERpYWxvZ1RpdGxlOiAnJywKICAgICAgbmV3UGFzc3dvcmQ6ICcnLAogICAgICAvLyDkv67mlLkKICAgICAgdXBkYXRlUHJvZmlsZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1cGRhdGVQcm9maWxlRGlhbG9nVGl0bGU6ICcnLAogICAgICAvLyDmt7vliqDotKbmiLcKICAgICAgY3JlYXRlRGlhbG9nVmlzaWJsZTogZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRTZWFyY2hQYXJhbXMoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLnNlYXJjaFBhcmFtcy5jdXJyZW50ID0gMQogICAgICB0aGlzLmJlZ2luVG9FbmRDcmVhdGUgPSAnJwogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIHNldEluZGV4QW5kR2V0TGlzdERhdGEoaW5kZXgpIHsKICAgICAgdGhpcy5jdXJyZW50T3BlcmF0aW9uSW5kZXggPSBpbmRleAogICAgICByZXR1cm4gdGhpcy5saXN0RGF0YVt0aGlzLmN1cnJlbnRPcGVyYXRpb25JbmRleF0KICAgIH0sCiAgICBvcGVuRW5hYmxlRGlhbG9nVmlzaWJsZShpbmRleCkgewogICAgICBjb25zdCB1c2VyID0gdGhpcy5zZXRJbmRleEFuZEdldExpc3REYXRhKGluZGV4KQogICAgICB0aGlzLmVuYWJsZURpYWxvZ1RpdGxlID0gYCR7dXNlci5lbmFibGUgPyAn5ZCv55SoJyA6ICfnpoHnlKgnfeWtpuWRmFske3VzZXIubmlja25hbWV9XWAKICAgICAgdGhpcy5lbmFibGVEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGNsb3NlRW5hYmxlRGlhbG9nVmlzaWJsZSgpIHsKICAgICAgdGhpcy5lbmFibGVEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgY29uc3QgdXNlciA9IHRoaXMubGlzdERhdGFbdGhpcy5jdXJyZW50T3BlcmF0aW9uSW5kZXhdCiAgICAgIHVzZXIuZW5hYmxlID0gIXVzZXIuZW5hYmxlCiAgICB9LAogICAgb3BlblVwZGF0ZVBhc3N3b3JkRGlhbG9nKGluZGV4KSB7CiAgICAgIHRoaXMudXBkYXRlUGFzc3dvcmREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICBjb25zdCB1c2VyID0gdGhpcy5zZXRJbmRleEFuZEdldExpc3REYXRhKGluZGV4KQogICAgICB0aGlzLnVwZGF0ZVBhc3N3b3JkRGlhbG9nVGl0bGUgPSBg5pu05pS55a2m5ZGYWyR7dXNlci5uaWNrbmFtZX1d5a+G56CBYAogICAgfSwKICAgIG9wZW5VcGRhdGVQcm9maWxlRGlhbG9nKGluZGV4KSB7CiAgICAgIHRoaXMudXBkYXRlUHJvZmlsZURpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLnNldEluZGV4QW5kR2V0TGlzdERhdGEoaW5kZXgpCiAgICAgIHRoaXMudXBkYXRlUHJvZmlsZURpYWxvZ1RpdGxlID0gYOabtOaUueWtpuWRmFske3VzZXIubmlja25hbWV9XeS/oeaBr2AKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLiRyZWZzLlVwZGF0ZURpYWxvZy5zZXREYXRhKHVzZXIpCiAgICAgIH0uYmluZCh0aGlzKSwgMjAwKQogICAgfSwKICAgIC8vIOiOt+WPluWIl+ihqOS/oeaBrwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy50YWJsZURhdGFMb2FkaW5nID0gdHJ1ZQogICAgICAvLyDlpITnkIbms6jlhozml7bpl7TpgInmi6kKICAgICAgaWYgKHRoaXMuYmVnaW5Ub0VuZENyZWF0ZSkgeyAvLyDpgInmi6nkuoYKICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcy5iZWdpbkNyZWF0ZSA9IHRoaXMuYmVnaW5Ub0VuZENyZWF0ZVswXQogICAgICAgIHRoaXMuc2VhcmNoUGFyYW1zLmVuZENyZWF0ZSA9IHRoaXMuYmVnaW5Ub0VuZENyZWF0ZVsxXQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoUGFyYW1zLmJlZ2luQ3JlYXRlID0gbnVsbAogICAgICAgIHRoaXMuc2VhcmNoUGFyYW1zLmVuZENyZWF0ZSA9IG51bGwKICAgICAgfQogICAgICBsaXN0KHRoaXMuc2VhcmNoUGFyYW1zKS50aGVuKHJlc3AgPT4gewogICAgICAgIHRoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWwKICAgICAgICB0aGlzLmxpc3REYXRhID0gcmVzcC5kYXRhLmxpc3QKICAgICAgICB0aGlzLnRhYmxlRGF0YUxvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIC8vIOWQr+eUqOaIluemgeeUqOeUqOaItwogICAgZGlzZW5hYmxsZSgpIHsKICAgICAgY29uc3QgdXNlciA9IHRoaXMubGlzdERhdGFbdGhpcy5jdXJyZW50T3BlcmF0aW9uSW5kZXhdCiAgICAgIGNvbnN0IGZ1biA9IHVzZXIuZW5hYmxlID8gZW5hYmxlIDogZGlzYWJsZQogICAgICBmdW4odXNlci5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICBjb25zdCBtc2cgPSAn5a2m5ZGY6LSm5oi3WycgKyB1c2VyLm5pY2tuYW1lICsgJ13lt7InICsgKHVzZXIuZW5hYmxlID8gJ+WQr+eUqCcgOiAn56aB55SoJykKICAgICAgICBpZiAodXNlci5lbmFibGUpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhtc2cpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhtc2cpCiAgICAgICAgfQogICAgICB9KQogICAgICAvLyDlm6DkuLrlr7nor53moYblhbPpl63ml7bkvJrmiafooYx1c2VyLmVuYWJsZSA9ICF1c2VyLmVuYWJsZe+8jOaJgOS7peWcqOWPjeS4gOasoQogICAgICB1c2VyLmVuYWJsZSA9ICF1c2VyLmVuYWJsZQogICAgICB0aGlzLmVuYWJsZURpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfSwKICAgIC8vIOS/ruaUueS/oeaBrwogICAgdXBkYXRlUHJvZmlsZSgpIHsKICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy4kcmVmcy5VcGRhdGVEaWFsb2cuZ2V0RGF0YSgpCiAgICAgIHVwZGF0ZVByb2ZpbGUocGFyYW1zKS50aGVuKHJlc3AgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwLm1lc3NhZ2UpCiAgICAgICAgdGhpcy51cGRhdGVQcm9maWxlRGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgfSkKICAgIH0sCiAgICAvLyDkv67mlLnlr4bnoIEKICAgIHVwZGF0ZVBhc3N3b3JkKCkgewogICAgICBjb25zdCB1c2VyID0gdGhpcy5saXN0RGF0YVt0aGlzLmN1cnJlbnRPcGVyYXRpb25JbmRleF0KICAgICAgY29uc3QgcGFyYW1zID0geyB1c2VySWQ6IHVzZXIuaWQsIG5ld1Bhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkIH0KICAgICAgdXBkYXRlUGFzc3dvcmQocGFyYW1zKS50aGVuKHJlc3AgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwLm1lc3NhZ2UpCiAgICAgICAgdGhpcy51cGRhdGVQYXNzd29yZERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIC8vIOWIoOmZpOeUqOaItwogICAgZGVsZXRlVXNlcihpbmRleCkgewogICAgICBjb25zdCB1c2VyID0gdGhpcy5zZXRJbmRleEFuZEdldExpc3REYXRhKGluZGV4KQogICAgICBkZWxldGVVc2VyKHVzZXIuaWQpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc3AubWVzc2FnZSkKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICB9KQogICAgfSwKICAgIC8vIOWIm+W7uueUqOaItwogICAgY3JlYXRlVXNlcigpIHsKICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy4kcmVmcy5BZGREaWFsb2cuZ2V0RGF0YSgpCiAgICAgIHBhcmFtcy5wYXNzd29yZCA9ICc2NTQzMjEnCiAgICAgIGNyZWF0ZVVzZXIocGFyYW1zKS50aGVuKHJlc3AgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwLm1lc3NhZ2UpCiAgICAgICAgdGhpcy5jcmVhdGVEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["uctrmember_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"uctrmember_list.vue","sourceRoot":"src/views/uctr_member","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"search-box\">\n      <el-form ref=\"searchParamsForm\" :inline=\"true\" :model=\"searchParams\" size=\"small\">\n        <el-form-item label=\"昵称:\" prop=\"nickname\">\n          <el-input v-model=\"searchParams.nickname\" placeholder=\"输入昵称搜索\" style=\"width: 150px\" />\n        </el-form-item>\n        <el-form-item label=\"手机号:\" prop=\"mobile\">\n          <el-input v-model=\"searchParams.mobile\" placeholder=\"输入手机号搜索\" style=\"width: 150px\" />\n        </el-form-item>\n        <el-form-item label=\"状态:\" prop=\"enable\">\n          <el-select v-model=\"searchParams.enable\" style=\"width: 100px\">\n            <el-option label=\"启用\" :value=\"true\" />\n            <el-option label=\"禁用\" :value=\"false\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"注册时间:\" prop=\"enable\">\n          <el-date-picker\n            v-model=\"beginToEndCreate\"\n            type=\"datetimerange\"\n            :picker-options=\"pickerOptions\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"getList\">查 询</el-button>\n          <el-button @click=\"resetSearchParams('searchParamsForm')\">重 置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div style=\"margin-bottom: 12px\">\n      <el-button type=\"primary\" size=\"small\" icon=\"el-icon-plus\" @click=\"createDialogVisible=true\">添加学员</el-button>\n    </div>\n    <div class=\"blog-list\">\n      <el-table\n        ref=\"listTable\"\n        v-loading=\"tableDataLoading\"\n        :data=\"listData\"\n        tooltip-effect=\"dark\"\n        :header-cell-style=\"{fontWeight:'normal', color:'#666'}\"\n      >\n        <el-table-column type=\"index\" />\n        <el-table-column prop=\"nickname\" label=\"昵称\" />\n        <el-table-column prop=\"mobile\" label=\"手机号\" width=\"150\" align=\"center\" />\n        <el-table-column prop=\"email\" label=\"邮箱地址\" show-tooltip-when-overflow />\n        <el-table-column prop=\"sex\" label=\"性别\" width=\"70\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.sex==='FEMALE'\" style=\"color: #f84a4a\">女</span>\n            <span v-else-if=\"scope.row.sex==='MALE'\" style=\"color: #20a0ff\">男</span>\n            <span v-else>未知</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"age\" label=\"年龄\" width=\"70\" align=\"center\" />\n        <el-table-column prop=\"createTime\" label=\"注册时间\" width=\"160\" align=\"center\" />\n        <el-table-column prop=\"enable\" label=\"状态\" width=\"180\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.enable\"\n              active-color=\"#13ce66\"\n              inactive-color=\"#ff4949\"\n              active-text=\"正常\"\n              inactive-text=\"禁用\"\n              :active-value=\"true\"\n              :inactive-value=\"false\"\n              @change=\"openEnableDialogVisible(scope.$index)\"\n            />\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"210\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"openUpdateProfileDialog(scope.$index)\">修改</el-button>\n            <el-button type=\"success\" size=\"mini\" @click=\"openUpdatePasswordDialog(scope.$index)\">改密</el-button>\n            <el-popconfirm\n              style=\"margin-left: 10px\"\n              placement=\"top-end\"\n              confirm-button-text=\"确定\"\n              cancel-button-text=\"取消\"\n              icon=\"el-icon-info\"\n              icon-color=\"red\"\n              :title=\"`你要永久删除[${scope.row.nickname}]吗？`\"\n              @confirm=\"deleteUser(scope.$index)\"\n            >\n              <el-button slot=\"reference\" type=\"danger\" size=\"mini\">删除</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        :page-sizes=\"[10, 20, 30, 40,50]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n        :page-size.sync=\"searchParams.pageSize\"\n        :current-page.sync=\"searchParams.current\"\n        @size-change=\"getList\"\n        @current-change=\"getList\"\n      />\n    </div>\n    <div>\n      <!-- 启用、禁用账户对话框 -->\n      <el-dialog\n        :title.sync=\"enableDialogTitle\"\n        :visible.sync=\"enableDialogVisible\"\n        destroy-on-close\n        width=\"24%\"\n        @close=\"closeEnableDialogVisible\"\n      >\n        <p>禁用：账户将丧失登录认证的资格</p>\n        <p>启用：账户将恢复登录认证的资格</p>\n        <span slot=\"footer\">\n          <el-button type=\"primary\" size=\"small\" @click=\"disenablle\">确 定</el-button>\n          <el-button size=\"small\" @click=\"enableDialogVisible=false\">取 消</el-button>\n        </span>\n      </el-dialog>\n      <!-- 修改密码对话框 -->\n      <el-dialog\n        :title.sync=\"updatePasswordDialogTitle\"\n        :visible.sync=\"updatePasswordDialogVisible\"\n        destroy-on-close\n        width=\"24%\"\n        @closed=\"()=>{newPassword=''}\"\n      >\n        <el-input v-model=\"newPassword\" size=\"small\" autocomplete=\"off\" placeholder=\"请输入账户新密码\" />\n        <span slot=\"footer\">\n          <el-button type=\"primary\" size=\"small\" @click=\"updatePassword\">更 新</el-button>\n          <el-button size=\"small\" @click=\"updatePasswordDialogVisible = false\">取 消</el-button>\n        </span>\n      </el-dialog>\n      <!-- 修改账户信息 -->\n      <el-dialog\n        :title.sync=\"updateProfileDialogTitle\"\n        :visible.sync=\"updateProfileDialogVisible\"\n        destroy-on-close\n      >\n        <v-add-update ref=\"UpdateDialog\" />\n        <span slot=\"footer\">\n          <el-button type=\"primary\" size=\"small\" @click=\"updateProfile\">更 新</el-button>\n          <el-button size=\"small\" @click=\"updateProfileDialogVisible = false\">取 消</el-button>\n        </span>\n      </el-dialog>\n      <!-- 添加账户 -->\n      <el-dialog\n        title=\"添加学员\"\n        :visible.sync=\"createDialogVisible\"\n        destroy-on-close\n      >\n        <div style=\"color: red;margin-bottom: 20px\">* 新账户默认密码为<strong>654321</strong>，创建账户后请修改</div>\n        <v-add-update ref=\"AddDialog\" />\n        <span slot=\"footer\">\n          <el-button type=\"primary\" size=\"small\" @click=\"createUser\">创 建</el-button>\n          <el-button size=\"small\" @click=\"createDialogVisible = false\">取 消</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {\n  list,\n  enable,\n  disable,\n  deleteUser,\n  updatePassword,\n  createUser,\n  updateProfile\n} from '@/api/member'\n\nexport default {\n  name: 'UctrMemberList',\n  components: {\n    'v-add-update': () => import('@/views/uctr_member/uctrmember_add_update')\n  },\n  data() {\n    return {\n      searchParams: {\n        current: 1,\n        pageSize: 10,\n        nickname: '',\n        mobile: '',\n        enable: null,\n        beginCreate: null,\n        endCreate: null\n      },\n      // 注册时间选择框选项\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近三个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      beginToEndCreate: '', // 注册时间 [begin, end]\n      total: 0,\n      listData: [],\n      tableDataLoading: false,\n      currentOperationIndex: 0,\n      // 启用、禁用\n      enableDialogVisible: false,\n      enableDialogTitle: '',\n      // 改密\n      updatePasswordDialogVisible: false,\n      updatePasswordDialogTitle: '',\n      newPassword: '',\n      // 修改\n      updateProfileDialogVisible: false,\n      updateProfileDialogTitle: '',\n      // 添加账户\n      createDialogVisible: false\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    resetSearchParams(formName) {\n      this.$refs[formName].resetFields()\n      this.searchParams.current = 1\n      this.beginToEndCreate = ''\n      this.getList()\n    },\n    setIndexAndGetListData(index) {\n      this.currentOperationIndex = index\n      return this.listData[this.currentOperationIndex]\n    },\n    openEnableDialogVisible(index) {\n      const user = this.setIndexAndGetListData(index)\n      this.enableDialogTitle = `${user.enable ? '启用' : '禁用'}学员[${user.nickname}]`\n      this.enableDialogVisible = true\n    },\n    closeEnableDialogVisible() {\n      this.enableDialogVisible = false\n      const user = this.listData[this.currentOperationIndex]\n      user.enable = !user.enable\n    },\n    openUpdatePasswordDialog(index) {\n      this.updatePasswordDialogVisible = true\n      const user = this.setIndexAndGetListData(index)\n      this.updatePasswordDialogTitle = `更改学员[${user.nickname}]密码`\n    },\n    openUpdateProfileDialog(index) {\n      this.updateProfileDialogVisible = true\n      const user = this.setIndexAndGetListData(index)\n      this.updateProfileDialogTitle = `更改学员[${user.nickname}]信息`\n      setTimeout(function() {\n        this.$refs.UpdateDialog.setData(user)\n      }.bind(this), 200)\n    },\n    // 获取列表信息\n    getList() {\n      this.tableDataLoading = true\n      // 处理注册时间选择\n      if (this.beginToEndCreate) { // 选择了\n        this.searchParams.beginCreate = this.beginToEndCreate[0]\n        this.searchParams.endCreate = this.beginToEndCreate[1]\n      } else {\n        this.searchParams.beginCreate = null\n        this.searchParams.endCreate = null\n      }\n      list(this.searchParams).then(resp => {\n        this.total = resp.data.total\n        this.listData = resp.data.list\n        this.tableDataLoading = false\n      })\n    },\n    // 启用或禁用用户\n    disenablle() {\n      const user = this.listData[this.currentOperationIndex]\n      const fun = user.enable ? enable : disable\n      fun(user.id).then(resp => {\n        const msg = '学员账户[' + user.nickname + ']已' + (user.enable ? '启用' : '禁用')\n        if (user.enable) {\n          this.$message.success(msg)\n        } else {\n          this.$message.warning(msg)\n        }\n      })\n      // 因为对话框关闭时会执行user.enable = !user.enable，所以在反一次\n      user.enable = !user.enable\n      this.enableDialogVisible = false\n    },\n    // 修改信息\n    updateProfile() {\n      const params = this.$refs.UpdateDialog.getData()\n      updateProfile(params).then(resp => {\n        this.$message.success(resp.message)\n        this.updateProfileDialogVisible = false\n        this.getList()\n      })\n    },\n    // 修改密码\n    updatePassword() {\n      const user = this.listData[this.currentOperationIndex]\n      const params = { userId: user.id, newPassword: this.newPassword }\n      updatePassword(params).then(resp => {\n        this.$message.success(resp.message)\n        this.updatePasswordDialogVisible = false\n      })\n    },\n    // 删除用户\n    deleteUser(index) {\n      const user = this.setIndexAndGetListData(index)\n      deleteUser(user.id).then(resp => {\n        this.$message.success(resp.message)\n        this.getList()\n      })\n    },\n    // 创建用户\n    createUser() {\n      const params = this.$refs.AddDialog.getData()\n      params.password = '654321'\n      createUser(params).then(resp => {\n        this.$message.success(resp.message)\n        this.createDialogVisible = false\n        this.getList()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"]}]}