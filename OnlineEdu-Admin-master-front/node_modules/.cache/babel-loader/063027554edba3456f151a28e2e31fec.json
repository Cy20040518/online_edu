{"remainingRequest":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\edu_course\\educourse_audit.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\views\\edu_course\\educourse_audit.vue","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\babel.config.js","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkM6L1VzZXJzLzg2MTkzL0Rlc2t0b3AvT25saW5lRWR1LUFkbWluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3QsIHVwZGF0ZUl0LCBwYXNzIGFzIF9wYXNzLCByZWplY3QgYXMgX3JlamVjdCB9IGZyb20gJ0AvYXBpL2NvdXJzZSc7CmltcG9ydCB7IGpzb25PYmoyRm9ybURhdGEsIGVuY29kZU9zc0ZpbGVVcmkgYXMgX2VuY29kZU9zc0ZpbGVVcmkgfSBmcm9tICdAL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZHVDb3Vyc2VBdWRpdCcsCiAgY29tcG9uZW50czogewogICAgJ3YtZWR1dGVhY2hlci1hZGQtdXBkYXRlJzogZnVuY3Rpb24gdkVkdXRlYWNoZXJBZGRVcGRhdGUoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9lZHVfY291cnNlL2VkdWNvdXJzZV9hZGRfdXBkYXRlJykpOwogICAgICB9KTsKICAgIH0sCiAgICAndi1lZHV0ZWFjaGVyLXdhdGNoJzogZnVuY3Rpb24gdkVkdXRlYWNoZXJXYXRjaCgpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZpZXdzL2VkdV9jb3Vyc2UvZWR1Y291cnNlX3dhdGNoJykpOwogICAgICB9KTsKICAgIH0sCiAgICAndi1lZHV0ZWFjaGVyLXRtcC13YXRjaCc6IGZ1bmN0aW9uIHZFZHV0ZWFjaGVyVG1wV2F0Y2goKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9lZHVfY291cnNlL2VkdWNvdXJzZV90bXBfd2F0Y2gnKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFBhcmFtczogewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBmcmVlOiBudWxsLAogICAgICAgIHN0YXR1czogJ0FVRElUSU5HJwogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdERhdGE6IFtdLAogICAgICB0YWJsZURhdGFMb2FkaW5nOiBmYWxzZSwKICAgICAgY3VycmVudE9wZXJhdGlvbkRhdGE6IG51bGwsCiAgICAgIC8vIOS/ruaUuQogICAgICB1cGRhdGVQcm9maWxlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHVwZGF0ZVByb2ZpbGVEaWFsb2dUaXRsZTogJycsCiAgICAgIC8vIOingueciwogICAgICB3YXRjaFZpZGVvRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOWIneWuoeinhumikQogICAgICB3YXRjaFZpZGVvVG1wRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOS6jOWuoeinhumikQogICAgICB3YXRjaFZpZGVvRGlhbG9nVGl0bGU6ICcnLAogICAgICAvLyDpqbPlm54KICAgICAgcmVqZWN0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlamVjdERpYWxvZ1RpdGxlOiAnJywKICAgICAgcmVqZWN0UmVtYXJrczogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldFNlYXJjaFBhcmFtczogZnVuY3Rpb24gcmVzZXRTZWFyY2hQYXJhbXMoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5zZWFyY2hQYXJhbXMuY3VycmVudCA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGVuY29kZU9zc0ZpbGVVcmk6IGZ1bmN0aW9uIGVuY29kZU9zc0ZpbGVVcmkob3NzVXJpKSB7CiAgICAgIHJldHVybiBfZW5jb2RlT3NzRmlsZVVyaShvc3NVcmkpOwogICAgfSwKICAgIG9wZW5VcGRhdGVQcm9maWxlRGlhbG9nOiBmdW5jdGlvbiBvcGVuVXBkYXRlUHJvZmlsZURpYWxvZyhjdXJEYXRhKSB7CiAgICAgIHRoaXMudXBkYXRlUHJvZmlsZURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmN1cnJlbnRPcGVyYXRpb25EYXRhID0gY3VyRGF0YTsKICAgICAgdGhpcy51cGRhdGVQcm9maWxlRGlhbG9nVGl0bGUgPSAiXHU2NkY0XHU2NTM5XHU4QkZFXHU3QTBCWyIuY29uY2F0KGN1ckRhdGEudGl0bGUsICJdXHU0RkUxXHU2MDZGIik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuJHJlZnMuVXBkYXRlRGlhbG9nLnNldERhdGEoY3VyRGF0YSk7CiAgICAgIH0uYmluZCh0aGlzKSwgMTAwKTsKICAgIH0sCiAgICAvLyDliJ3lrqHop4bpopEKICAgIG9wZW5XYXRjaFZpZGVvRGlhbG9nOiBmdW5jdGlvbiBvcGVuV2F0Y2hWaWRlb0RpYWxvZyhjdXJEYXRhKSB7CiAgICAgIHRoaXMud2F0Y2hWaWRlb0RpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLndhdGNoVmlkZW9EaWFsb2dUaXRsZSA9ICJcdTY3RTVcdTc3MEJcdThCRkVcdTdBMEJcdTMwMEEiLmNvbmNhdChjdXJEYXRhLnRpdGxlLCAiXHUzMDBCXHU4OUM2XHU5ODkxIik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuJHJlZnMuV2F0Y2hEaWFsb2cuc2V0RGF0YShjdXJEYXRhLmlkKTsKICAgICAgfS5iaW5kKHRoaXMpLCAxMDApOwogICAgfSwKICAgIC8vIOS6jOWuoeinhumikQogICAgb3BlbldhdGNoVmlkZW9UbXBEaWFsb2c6IGZ1bmN0aW9uIG9wZW5XYXRjaFZpZGVvVG1wRGlhbG9nKGN1ckRhdGEpIHsKICAgICAgdGhpcy53YXRjaFZpZGVvVG1wRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMud2F0Y2hWaWRlb0RpYWxvZ1RpdGxlID0gIlx1NjdFNVx1NzcwQlx1OEJGRVx1N0EwQlx1MzAwQSIuY29uY2F0KGN1ckRhdGEudGl0bGUsICJcdTMwMEJcdTg5QzZcdTk4OTEiKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5XYXRjaFRtcERpYWxvZy5zZXREYXRhKGN1ckRhdGEuaWQpOwogICAgICB9LmJpbmQodGhpcyksIDEwMCk7CiAgICB9LAogICAgb3BlblJlamVjdERpYWxvZzogZnVuY3Rpb24gb3BlblJlamVjdERpYWxvZyhjdXJEYXRhKSB7CiAgICAgIHRoaXMuY3VycmVudE9wZXJhdGlvbkRhdGEgPSBjdXJEYXRhOwogICAgICB0aGlzLnJlamVjdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnJlamVjdERpYWxvZ1RpdGxlID0gIlx1OUE3M1x1NTZERVx1OEJGRVx1N0EwQlx1MzAwQSIuY29uY2F0KGN1ckRhdGEudGl0bGUsICJcdTMwMEIiKTsKICAgIH0sCiAgICBnZXREZXRhaWxzU3ViamVjdDogZnVuY3Rpb24gZ2V0RGV0YWlsc1N1YmplY3Qoc3ViamVjdFBhcmVudCkgewogICAgICB2YXIgc3ViamVjdCA9ICcnOwogICAgICB2YXIgcGFyZW50ID0gc3ViamVjdFBhcmVudDsKICAgICAgd2hpbGUgKHBhcmVudCkgewogICAgICAgIHN1YmplY3QgPSAiIi5jb25jYXQocGFyZW50LnRpdGxlLCAiID4gIikuY29uY2F0KHN1YmplY3QpOwogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHN1YmplY3Quc3Vic3RyaW5nKDAsIHN1YmplY3QubGVuZ3RoIC0gMyk7CiAgICB9LAogICAgLy8g6I635Y+W5YiX6KGo5L+h5oGvCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnRhYmxlRGF0YUxvYWRpbmcgPSB0cnVlOwogICAgICBsaXN0KHRoaXMuc2VhcmNoUGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMubGlzdERhdGEgPSByZXNwLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy50YWJsZURhdGFMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/ruaUueS/oeaBrwogICAgdXBkYXRlUHJvZmlsZTogZnVuY3Rpb24gdXBkYXRlUHJvZmlsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLiRyZWZzLlVwZGF0ZURpYWxvZy5nZXREYXRhKCk7CiAgICAgIHVwZGF0ZUl0KHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlc3AubWVzc2FnZSk7CiAgICAgICAgX3RoaXMyLnVwZGF0ZVByb2ZpbGVEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCa6L+H5a6h5qC4CiAgICBwYXNzOiBmdW5jdGlvbiBwYXNzKGN1ckRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuY3VycmVudE9wZXJhdGlvbkRhdGEgPSBjdXJEYXRhOwogICAgICBfcGFzcyhjdXJEYXRhLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIlx1OEJGRVx1N0EwQlsiLmNvbmNhdChjdXJEYXRhLnRpdGxlLCAiXVx1NURGMlx1OTAxQVx1OEZDN1x1NUJBMVx1NjgzOCIpKTsKICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpqbPlm57lrqHmoLgKICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGNvdXJzZSA9IHRoaXMuY3VycmVudE9wZXJhdGlvbkRhdGE7CiAgICAgIHZhciBwYXJhbXMgPSBqc29uT2JqMkZvcm1EYXRhKHsKICAgICAgICBpZDogY291cnNlLmlkLAogICAgICAgIHJlbWFya3M6IHRoaXMucmVqZWN0UmVtYXJrcwogICAgICB9KTsKICAgICAgX3JlamVjdChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2VzcygiXHU4QkZFXHU3QTBCWyIuY29uY2F0KGNvdXJzZS50aXRsZSwgIl1cdTVERjJcdTlBNzNcdTU2REUiKSk7CiAgICAgICAgX3RoaXM0LnJlamVjdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczQuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["list","updateIt","pass","reject","jsonObj2FormData","encodeOssFileUri","name","components","vEduteacherAddUpdate","Promise","resolve","then","_interopRequireWildcard","require","vEduteacherWatch","vEduteacherTmpWatch","data","searchParams","current","pageSize","title","free","status","total","listData","tableDataLoading","currentOperationData","updateProfileDialogVisible","updateProfileDialogTitle","watchVideoDialogVisible","watchVideoTmpDialogVisible","watchVideoDialogTitle","rejectDialogVisible","rejectDialogTitle","rejectRemarks","created","getList","methods","resetSearchParams","formName","$refs","resetFields","ossUri","openUpdateProfileDialog","curData","concat","setTimeout","UpdateDialog","setData","bind","openWatchVideoDialog","WatchDialog","id","openWatchVideoTmpDialog","WatchTmpDialog","openRejectDialog","getDetailsSubject","subjectParent","subject","parent","substring","length","_this","resp","updateProfile","_this2","params","getData","$message","success","message","_this3","_this4","course","remarks"],"sources":["src/views/edu_course/educourse_audit.vue"],"sourcesContent":["<!-- 课程审核 -->\n<template>\n  <div class=\"app-container\">\n    <div class=\"search-box\">\n      <el-form ref=\"searchParamsForm\" :inline=\"true\" :model=\"searchParams\" size=\"small\">\n        <el-form-item label=\"课程名称：\" prop=\"title\">\n          <el-input v-model=\"searchParams.title\" placeholder=\"输入课程名称搜索\" />\n        </el-form-item>\n        <el-form-item label=\"是否免费：\" prop=\"free\">\n          <el-select v-model=\"searchParams.free\" style=\"width: 130px\">\n            <el-option label=\"免费\" :value=\"true\" />\n            <el-option label=\"收费\" :value=\"false\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"审核状态：\" prop=\"status\">\n          <el-select v-model=\"searchParams.status\" style=\"width: 130px\">\n            <el-option label=\"待审核\" :value=\"'AUDITING'\" />\n            <el-option label=\"初审\" :value=\"'FIRST_AUDITING'\" />\n            <el-option label=\"二审\" :value=\"'SECOND_AUDITING'\" />\n            <el-option label=\"已驳回\" :value=\"'TURN_DOWN'\" />\n            <el-option label=\"草稿\" :value=\"'DRAFT'\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"getList\">查 询</el-button>\n          <el-button @click=\"resetSearchParams('searchParamsForm')\">重 置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"blog-list\">\n      <el-table\n        ref=\"listTable\"\n        v-loading=\"tableDataLoading\"\n        :data=\"listData\"\n        tooltip-effect=\"dark\"\n        :header-cell-style=\"{fontWeight:'normal', color:'#666'}\"\n      >\n        <el-table-column type=\"index\" />\n        <el-table-column prop=\"title\" label=\"封面\" width=\"130\">\n          <template slot-scope=\"scope\">\n            <el-image style=\"width: 100px; height: 48px\" :src=\"encodeOssFileUri(scope.row.cover)\" fit=\"cover\" />\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"title\" label=\"名称\" show-tooltip-when-overflow />\n        <el-table-column prop=\"subjectId\" label=\"分类\" show-tooltip-when-overflow>\n          <template slot-scope=\"scope\">\n            {{ getDetailsSubject(scope.row.subjectParent) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"price\" label=\"价格\" width=\"100\">\n          <template slot-scope=\"scope\">{{ scope.row.price === 0 ? '免费' : scope.row.price }}</template>\n        </el-table-column>\n        <el-table-column prop=\"lessonNum\" label=\"总课时\" width=\"100\" />\n        <el-table-column prop=\"sort\" label=\"排序\" width=\"80\" align=\"center\" />\n        <el-table-column prop=\"status\" label=\"审核状态\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.status==='FIRST_AUDITING'\" type=\"\" size=\"small\">初审</el-tag>\n            <el-tag v-else-if=\"scope.row.status==='SECOND_AUDITING'\" type=\"\" size=\"small\">二审</el-tag>\n            <el-tag v-else-if=\"scope.row.status==='DRAFT'\" type=\"info\" size=\"small\">草稿</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"280\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"openUpdateProfileDialog(scope.row)\">修改</el-button>\n            <el-button\n              type=\"warning\"\n              size=\"mini\"\n              @click=\"/FIRST_AUDITING|DRAFT/.test(scope.row.status)\n                ?openWatchVideoDialog(scope.row)\n                :openWatchVideoTmpDialog(scope.row)\"\n            >观看</el-button>\n            <el-popconfirm\n              style=\"margin:0 10px\"\n              placement=\"top-end\"\n              confirm-button-text=\"确定\"\n              cancel-button-text=\"取消\"\n              icon=\"el-icon-info\"\n              icon-color=\"red\"\n              :title=\"`你要通过课程[${scope.row.title}]的审核吗？`\"\n              @confirm=\"pass(scope.row)\"\n            >\n              <el-button slot=\"reference\" type=\"success\" size=\"mini\">通过</el-button>\n            </el-popconfirm>\n            <el-button\n              v-if=\"/AUDITING/.test(scope.row.status)\"\n              type=\"danger\"\n              size=\"mini\"\n              @click=\"openRejectDialog(scope.row)\"\n            >驳回</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        :page-sizes=\"[10, 20, 30, 40,50]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n        :page-size.sync=\"searchParams.pageSize\"\n        :current-page.sync=\"searchParams.current\"\n        @size-change=\"getList\"\n        @current-change=\"getList\"\n      />\n    </div>\n    <!-- 修改信息 -->\n    <el-dialog\n      :title.sync=\"updateProfileDialogTitle\"\n      :visible.sync=\"updateProfileDialogVisible\"\n      destroy-on-close\n      top=\"3vh\"\n      :close-on-click-modal=\"false\"\n    >\n      <v-eduteacher-add-update ref=\"UpdateDialog\" />\n      <span slot=\"footer\">\n        <el-button type=\"primary\" size=\"small\" @click=\"updateProfile\">更 新</el-button>\n        <el-button size=\"small\" @click=\"updateProfileDialogVisible = false\">取 消</el-button>\n      </span>\n    </el-dialog>\n    <!-- 观看视频(初审视频) -->\n    <el-dialog\n      :title.sync=\"watchVideoDialogTitle\"\n      :visible.sync=\"watchVideoDialogVisible\"\n      destroy-on-close\n      top=\"5vh\"\n      width=\"70vw\"\n      :close-on-click-modal=\"false\"\n      :before-close=\"(done)=>{$refs.WatchDialog.dispose();done();}\"\n    >\n      <v-eduteacher-watch ref=\"WatchDialog\" />\n    </el-dialog>\n    <!-- 观看视频(二审视频) -->\n    <el-dialog\n      :title.sync=\"watchVideoDialogTitle\"\n      :visible.sync=\"watchVideoTmpDialogVisible\"\n      destroy-on-close\n      top=\"5vh\"\n      width=\"70vw\"\n      :close-on-click-modal=\"false\"\n      :before-close=\"(done)=>{$refs.WatchTmpDialog.dispose();done();}\"\n    >\n      <div style=\"margin-bottom: 12px;color: #F44336\">\n        * 视频标题带标志 \"\n        <el-badge is-dot>\n          <i class=\"el-icon-video-play\" style=\"margin-right: 6px\" />\n        </el-badge>\n        &nbsp;\" 说明是新上传的课程视频\n      </div>\n      <v-eduteacher-tmp-watch ref=\"WatchTmpDialog\" />\n    </el-dialog>\n    <!-- 驳回审核 -->\n    <el-dialog\n      :title.sync=\"rejectDialogTitle\"\n      :visible.sync=\"rejectDialogVisible\"\n      destroy-on-close\n      :close-on-click-modal=\"false\"\n      @closed=\"rejectRemarks=''\"\n    >\n      <el-input\n        v-model=\"rejectRemarks\"\n        :rows=\"7\"\n        type=\"textarea\"\n        maxlength=\"511\"\n        show-word-limit\n        placeholder=\"驳回备注\"\n      />\n      <span slot=\"footer\">\n        <el-button type=\"primary\" size=\"small\" @click=\"reject\">确 认</el-button>\n        <el-button size=\"small\" @click=\"rejectDialogVisible = false\">取 消</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\nimport { list, updateIt, pass, reject } from '@/api/course'\nimport { jsonObj2FormData, encodeOssFileUri } from '@/utils'\n\nexport default {\n  name: 'EduCourseAudit',\n  components: {\n    'v-eduteacher-add-update': () => import('@/views/edu_course/educourse_add_update'),\n    'v-eduteacher-watch': () => import('@/views/edu_course/educourse_watch'),\n    'v-eduteacher-tmp-watch': () => import('@/views/edu_course/educourse_tmp_watch')\n\n  },\n  data() {\n    return {\n      searchParams: {\n        current: 1,\n        pageSize: 10,\n        title: '',\n        free: null,\n        status: 'AUDITING'\n      },\n      total: 0,\n      listData: [],\n      tableDataLoading: false,\n      currentOperationData: null,\n      // 修改\n      updateProfileDialogVisible: false,\n      updateProfileDialogTitle: '',\n      // 观看\n      watchVideoDialogVisible: false, // 初审视频\n      watchVideoTmpDialogVisible: false, // 二审视频\n      watchVideoDialogTitle: '',\n      // 驳回\n      rejectDialogVisible: false,\n      rejectDialogTitle: '',\n      rejectRemarks: ''\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    resetSearchParams(formName) {\n      this.$refs[formName].resetFields()\n      this.searchParams.current = 1\n      this.getList()\n    },\n    encodeOssFileUri(ossUri) {\n      return encodeOssFileUri(ossUri)\n    },\n    openUpdateProfileDialog(curData) {\n      this.updateProfileDialogVisible = true\n      this.currentOperationData = curData\n      this.updateProfileDialogTitle = `更改课程[${curData.title}]信息`\n      setTimeout(function() {\n        this.$refs.UpdateDialog.setData(curData)\n      }.bind(this), 100)\n    },\n    // 初审视频\n    openWatchVideoDialog(curData) {\n      this.watchVideoDialogVisible = true\n      this.watchVideoDialogTitle = `查看课程《${curData.title}》视频`\n      setTimeout(function() {\n        this.$refs.WatchDialog.setData(curData.id)\n      }.bind(this), 100)\n    },\n    // 二审视频\n    openWatchVideoTmpDialog(curData) {\n      this.watchVideoTmpDialogVisible = true\n      this.watchVideoDialogTitle = `查看课程《${curData.title}》视频`\n      setTimeout(function() {\n        this.$refs.WatchTmpDialog.setData(curData.id)\n      }.bind(this), 100)\n    },\n    openRejectDialog(curData) {\n      this.currentOperationData = curData\n      this.rejectDialogVisible = true\n      this.rejectDialogTitle = `驳回课程《${curData.title}》`\n    },\n    getDetailsSubject(subjectParent) {\n      let subject = ''\n      let parent = subjectParent\n      while (parent) {\n        subject = `${parent.title} > ${subject}`\n        parent = parent.parent\n      }\n      return subject.substring(0, subject.length - 3)\n    },\n    // 获取列表信息\n    getList() {\n      this.tableDataLoading = true\n      list(this.searchParams).then(resp => {\n        this.total = resp.data.total\n        this.listData = resp.data.list\n        this.tableDataLoading = false\n      })\n    },\n    // 修改信息\n    updateProfile() {\n      const params = this.$refs.UpdateDialog.getData()\n      updateIt(params).then(resp => {\n        this.$message.success(resp.message)\n        this.updateProfileDialogVisible = false\n        this.getList()\n      })\n    },\n    // 通过审核\n    pass(curData) {\n      this.currentOperationData = curData\n      pass(curData.id).then(resp => {\n        this.$message.success(`课程[${curData.title}]已通过审核`)\n        this.getList()\n      })\n    },\n    // 驳回审核\n    reject() {\n      const course = this.currentOperationData\n      const params = jsonObj2FormData({ id: course.id, remarks: this.rejectRemarks })\n      reject(params).then(resp => {\n        this.$message.success(`课程[${course.title}]已驳回`)\n        this.rejectDialogVisible = false\n        this.getList()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"],"mappings":"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","ignoreList":[]}]}