{"remainingRequest":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\src\\permission.js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\src\\permission.js","mtime":1646101920000},{"path":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\babel.config.js","mtime":1646101920000},{"path":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\online-edu-teacher-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvODYxOTMvRGVza3RvcC9vbmxpbmUtZWR1LXRlYWNoZXItbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvODYxOTMvRGVza3RvcC9vbmxpbmUtZWR1LXRlYWNoZXItbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7IC8vIHByb2dyZXNzIGJhcgppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsgLy8gcHJvZ3Jlc3MgYmFyIHN0eWxlCmltcG9ydCBnZXRQYWdlVGl0bGUgZnJvbSAnQC91dGlscy9nZXQtcGFnZS10aXRsZSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOyAvLyBOUHJvZ3Jlc3MgQ29uZmlndXJhdGlvbgoKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107IC8vIG5vIHJlZGlyZWN0IHdoaXRlbGlzdAoKcm91dGVyLmJlZm9yZUVhY2goLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgaXNMb2dpbjsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIC8vIHN0YXJ0IHByb2dyZXNzIGJhcgogICAgICAgICAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgICAgICAgICAvLyBzZXQgcGFnZSB0aXRsZQogICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBnZXRQYWdlVGl0bGUodG8ubWV0YS50aXRsZSk7CgogICAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHVzZXIgaGFzIGxvZ2dlZCBpbgogICAgICAgICAgaXNMb2dpbiA9IE9iamVjdC5rZXlzKHN0b3JlLmdldHRlcnMudXNlcikubGVuZ3RoICE9PSAwOwogICAgICAgICAgaWYgKCFpc0xvZ2luKSB7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgICAgICAgICAvLyBpZiBpcyBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBob21lIHBhZ2UKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgcGF0aDogJy8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgfQogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA3OgogICAgICAgICAgaWYgKCEod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSkgewogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgLy8gaW4gdGhlIGZyZWUgbG9naW4gd2hpdGVsaXN0LCBnbyBkaXJlY3RseQogICAgICAgICAgbmV4dCgpOwogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxMToKICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRJbmZvJyk7CiAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIG5leHQoKTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTc6CiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTc7CiAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDExKTsKICAgICAgICAgIE1lc3NhZ2UuZXJyb3IoX2NvbnRleHQudDAgfHwgJ0hhcyBFcnJvcicpOwogICAgICAgICAgbmV4dCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHRvLnBhdGgpKTsKICAgICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICAgICAgY2FzZSAyMjoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxMSwgMTddXSk7CiAgfSkpOwogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogIC8vIGZpbmlzaCBwcm9ncmVzcyBiYXIKICBOUHJvZ3Jlc3MuZG9uZSgpOwp9KTs="},{"version":3,"names":["router","store","NProgress","getPageTitle","Message","configure","showSpinner","whiteList","beforeEach","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","to","from","next","isLogin","wrap","_callee$","_context","prev","start","document","title","meta","Object","keys","getters","user","length","path","done","indexOf","dispatch","t0","error","concat","stop","_x","_x2","_x3","apply","arguments","afterEach"],"sources":["C:/Users/86193/Desktop/online-edu-teacher-master/src/permission.js"],"sourcesContent":["import router from '@/router'\nimport store from '@/store'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport getPageTitle from '@/utils/get-page-title'\nimport { Message } from 'element-ui'\n\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login'] // no redirect whitelist\n\nrouter.beforeEach(async(to, from, next) => {\n  // start progress bar\n  NProgress.start()\n  // set page title\n  document.title = getPageTitle(to.meta.title)\n\n  // determine whether the user has logged in\n  const isLogin = Object.keys(store.getters.user).length !== 0\n  if (isLogin) {\n    if (to.path === '/login') {\n      // if is logged in, redirect to the home page\n      next({ path: '/' })\n      NProgress.done()\n    } else {\n      next()\n    }\n  } else {\n    if (whiteList.indexOf(to.path) !== -1) {\n      // in the free login whitelist, go directly\n      next()\n    } else {\n      // other pages that do not have permission to access are redirected to the login page.\n      try {\n        // logged in, get user info\n        await store.dispatch('user/getInfo')\n        next()\n      } catch (error) {\n        Message.error(error || 'Has Error')\n        next(`/login?redirect=${to.path}`)\n        NProgress.done()\n      }\n    }\n  }\n})\n\nrouter.afterEach(() => {\n  // finish progress bar\n  NProgress.done()\n})\n"],"mappings":";;;AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,SAAS,MAAM,WAAW,EAAC;AAClC,OAAO,yBAAyB,EAAC;AACjC,OAAOC,YAAY,MAAM,wBAAwB;AACjD,SAASC,OAAO,QAAQ,YAAY;AAEpCF,SAAS,CAACG,SAAS,CAAC;EAAEC,WAAW,EAAE;AAAM,CAAC,CAAC,EAAC;;AAE5C,IAAMC,SAAS,GAAG,CAAC,QAAQ,CAAC,EAAC;;AAE7BP,MAAM,CAACQ,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAMC,EAAE,EAAEC,IAAI,EAAEC,IAAI;IAAA,IAAAC,OAAA;IAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAJ,IAAA;QAAA;UACpC;UACAd,SAAS,CAACoB,KAAK,CAAC,CAAC;UACjB;UACAC,QAAQ,CAACC,KAAK,GAAGrB,YAAY,CAACW,EAAE,CAACW,IAAI,CAACD,KAAK,CAAC;;UAE5C;UACMP,OAAO,GAAGS,MAAM,CAACC,IAAI,CAAC1B,KAAK,CAAC2B,OAAO,CAACC,IAAI,CAAC,CAACC,MAAM,KAAK,CAAC;UAAA,KACxDb,OAAO;YAAAG,QAAA,CAAAJ,IAAA;YAAA;UAAA;UACT,IAAIF,EAAE,CAACiB,IAAI,KAAK,QAAQ,EAAE;YACxB;YACAf,IAAI,CAAC;cAAEe,IAAI,EAAE;YAAI,CAAC,CAAC;YACnB7B,SAAS,CAAC8B,IAAI,CAAC,CAAC;UAClB,CAAC,MAAM;YACLhB,IAAI,CAAC,CAAC;UACR;UAACI,QAAA,CAAAJ,IAAA;UAAA;QAAA;UAAA,MAEGT,SAAS,CAAC0B,OAAO,CAACnB,EAAE,CAACiB,IAAI,CAAC,KAAK,CAAC,CAAC;YAAAX,QAAA,CAAAJ,IAAA;YAAA;UAAA;UACnC;UACAA,IAAI,CAAC,CAAC;UAAAI,QAAA,CAAAJ,IAAA;UAAA;QAAA;UAAAI,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAJ,IAAA;UAAA,OAKEf,KAAK,CAACiC,QAAQ,CAAC,cAAc,CAAC;QAAA;UACpClB,IAAI,CAAC,CAAC;UAAAI,QAAA,CAAAJ,IAAA;UAAA;QAAA;UAAAI,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAe,EAAA,GAAAf,QAAA;UAENhB,OAAO,CAACgC,KAAK,CAAChB,QAAA,CAAAe,EAAA,IAAS,WAAW,CAAC;UACnCnB,IAAI,oBAAAqB,MAAA,CAAoBvB,EAAE,CAACiB,IAAI,CAAE,CAAC;UAClC7B,SAAS,CAAC8B,IAAI,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAZ,QAAA,CAAAkB,IAAA;MAAA;IAAA,GAAAzB,OAAA;EAAA,CAIvB;EAAA,iBAAA0B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAhC,IAAA,CAAAiC,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEF3C,MAAM,CAAC4C,SAAS,CAAC,YAAM;EACrB;EACA1C,SAAS,CAAC8B,IAAI,CAAC,CAAC;AAClB,CAAC,CAAC","ignoreList":[]}]}